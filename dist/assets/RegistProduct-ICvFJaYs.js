import{_ as E,i as V,m as N,x as B,a as m,o as p,d as e,p as a,v as i,F as v,k as T,D as _,t as g,q as F,y,e as L,z as R}from"./index-BaYYEV3U.js";const h={class:"form-container"},H={class:"regist-info"},D={class:"mb-3"},M={class:"mb-3"},O={class:"mb-3"},w={class:"mb-3"},P={class:"mb-3"},q={class:"mb-3"},C=["value"],G=["for"],Q={class:"mb-3"},Y=["id","value"],j=["for"],z=["textContent"],J={__name:"RegistProductForm",props:{submitButtonText:String,initRegistData:Object},emits:["form-submit"],setup(f,{emit:b}){const n=V(null),s=N({productName:"",caution:"",brand:"",price:"",stockQuantity:"",ingredients:[],hfunctionalItems:[],productImage:""}),u=f,c=["VITAMIN_B3","VITAMIN_B1","MAGNESIUM","PROTEIN","LUTEIN"],d=r=>{switch(r){case"VITAMIN_B3":return"비타민 B3";case"VITAMIN_B1":return"비타민 B1";case"MAGNESIUM":return"마그네슘";case"PROTEIN":return"단백질";case"LUTEIN":return"루테인";default:return r}},k=["GUT_HEALTH","EYE","FATIGUE","SKIN_HEALTH","LIVER","SLEEP","JOINT_HEALTH","FITNESS","BODY_FAT"],A=r=>{switch(r){case"GUT_HEALTH":return"장 건강";case"EYE":return"눈 건강";case"FATIGUE":return"피로 회복";case"SKIN_HEALTH":return"피부 건강";case"LIVER":return"간 건강";case"SLEEP":return"수면";case"JOINT_HEALTH":return"관절 건강";case"FITNESS":return"운동";case"BODY_FAT":return"체지방";default:return r}},S=b;B(()=>u.initRegistData,r=>{Object.assign(s,r)},{immediate:!0});const U=async r=>{const t=new FormData;t.append("file",r);try{return(await y.post("/s3/upload",t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(o){console.error("Error uploading image:",o),alert("에러가 발생했습니다.");return}},x=async()=>{if(!s.productImage){alert("이미지를 선택해주세요.");return}if(s.productImage){const r=n.value.files[0];console.log(r),console.log(n),console.log(n.value),console.log(n.value.files[0]);const t=await U(r);s.productImage=t}console.log(s),S("form-submit",s)};return(r,t)=>(p(),m("form",{onSubmit:F(x,["prevent"]),class:"regist-form"},[t[14]||(t[14]=e("h3",{class:"page-title"},"상품 등록",-1)),e("div",h,[e("div",H,[e("div",D,[t[7]||(t[7]=e("label",{for:"productName",class:"form-label"},"상품명",-1)),a(e("input",{type:"text",class:"form-control",id:"productName","onUpdate:modelValue":t[0]||(t[0]=o=>s.productName=o),required:""},null,512),[[i,s.productName,void 0,{trim:!0}]])]),e("div",M,[t[8]||(t[8]=e("label",{for:"brand",class:"form-label"},"브랜드명",-1)),a(e("input",{type:"text",class:"form-control",id:"brand","onUpdate:modelValue":t[1]||(t[1]=o=>s.brand=o),required:""},null,512),[[i,s.brand,void 0,{trim:!0}]])]),e("div",O,[t[9]||(t[9]=e("label",{for:"caution",class:"form-label"},"주의사항",-1)),a(e("input",{type:"text",class:"form-control",id:"caution","onUpdate:modelValue":t[2]||(t[2]=o=>s.caution=o),required:""},null,512),[[i,s.caution,void 0,{trim:!0}]])]),e("div",w,[t[10]||(t[10]=e("label",{for:"price",class:"form-label"},"상품 가격",-1)),a(e("input",{type:"number",class:"form-control",id:"price","onUpdate:modelValue":t[3]||(t[3]=o=>s.price=o),required:""},null,512),[[i,s.price,void 0,{trim:!0}]])]),e("div",P,[t[11]||(t[11]=e("label",{for:"stockQuantity",class:"form-label"},"재고 수량",-1)),a(e("input",{type:"number",class:"form-control",id:"stockQuantity","onUpdate:modelValue":t[4]||(t[4]=o=>s.stockQuantity=o),required:""},null,512),[[i,s.stockQuantity,void 0,{trim:!0}]])]),e("div",q,[t[12]||(t[12]=e("label",{for:"ingredients",class:"form-label"},"성분",-1)),(p(),m(v,null,T(c,(o,l)=>e("div",{class:"form-check",key:l},[a(e("input",{type:"checkbox",class:"form-check-input",id:"ingredients",value:o,"onUpdate:modelValue":t[5]||(t[5]=I=>s.ingredients=I)},null,8,C),[[_,s.ingredients]]),e("label",{class:"form-check-label",for:o},g(d(o)),9,G)])),64))]),e("div",Q,[t[13]||(t[13]=e("label",{for:"hfunctionalItems",class:"form-label"},"건강 기능",-1)),(p(),m(v,null,T(k,(o,l)=>e("div",{class:"form-check",key:l},[a(e("input",{type:"checkbox",class:"form-check-input",id:"hfunctionalItems-"+l,value:o,"onUpdate:modelValue":t[6]||(t[6]=I=>s.hfunctionalItems=I)},null,8,Y),[[_,s.hfunctionalItems]]),e("label",{class:"form-check-label",for:"hfunctionalItems-"+l},g(A(o)),9,j)])),64))]),e("button",{type:"submit",class:"btn btn-primary",textContent:g(f.submitButtonText)},null,8,z)])])],32))}},K=E(J,[["__scopeId","data-v-d7b72655"]]),$={__name:"RegistProduct",setup(f){const b=R(),n=N({productName:"",caution:"",brand:"",price:"",stockQuantity:"",ingredients:[],hfunctionalItems:[],productImage:""}),s=async u=>{const c=localStorage.getItem("accessToken");try{(await y.post("/nsupplement",u,{headers:{Authorization:`Bearer ${c}`}})).status===200&&(alert("정상적으로 등록되었습니다."),b.replace({name:"registProductList"}))}catch(d){alert(d),alert("에러가 발생했습니다.")}};return(u,c)=>(p(),m("div",null,[L(K,{"submit-button-text":"등록","init-regist-data":n,onFormSubmit:s},null,8,["init-regist-data"])]))}},X=E($,[["__scopeId","data-v-1f005ca4"]]);export{X as default};
