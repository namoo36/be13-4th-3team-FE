import{_ as g,l as k,i as u,j as I,a as b,d as t,t as r,f as s,y as a,z as x,o as C}from"./index-BaYYEV3U.js";const B={class:"order-complete"},w={class:"order-info"},D={__name:"OrderComplete",emits:["confirm"],setup(O,{emit:d}){const i=k(),p=x(),m=i.query.orderId,o=u([]),n=u({name:"",phone:"",address:""}),c=async()=>{const l=localStorage.getItem("accessToken");try{const e=await a.get("/user/my-page",{headers:{Authorization:`Bearer ${l}`}});n.value=e.data}catch(e){console.error("사용자 정보 불러오기 실패:",e),alert("사용자 정보를 불러오는 데 실패했습니다.")}},f=async()=>{try{const l=await a.get(`/order/${m}`);o.value=l.data}catch(l){console.error("주문 정보 조회 오류:",l)}};I(()=>{f(),c()});const v=d,y=()=>{v("confirm"),p.push({name:"orderList"})};return(l,e)=>(C(),b("div",B,[e[9]||(e[9]=t("div",{class:"icon-wrapper"},[t("div",{class:"check-icon"},"✔")],-1)),e[10]||(e[10]=t("h2",{class:"thank-you-text"},"구매해주셔서 감사합니다!",-1)),t("div",w,[t("table",null,[t("tr",null,[e[0]||(e[0]=t("td",null,"주문 번호",-1)),t("td",null,r(o.value.orderId),1)]),t("tr",null,[e[1]||(e[1]=t("td",null,"결제 금액",-1)),t("td",null,r(o.value.totalPrice)+"원",1)]),t("tr",null,[e[2]||(e[2]=t("td",null,"주문 일시",-1)),t("td",null,r(o.value.orderDate),1)])]),e[8]||(e[8]=t("hr",null,null,-1)),t("table",null,[t("tr",null,[e[5]||(e[5]=t("td",null,"배송지",-1)),t("td",null,[s(r(n.value.name),1),e[3]||(e[3]=t("br",null,null,-1)),s(" "+r(n.value.phone),1),e[4]||(e[4]=t("br",null,null,-1)),s(" "+r(n.value.address),1)])]),e[6]||(e[6]=t("tr",null,[t("td",null,"배송 방법"),t("td",null,"택배")],-1)),e[7]||(e[7]=t("tr",null,[t("td",null,"배송 메모"),t("td",null,"경비실에 맡겨주세요.")],-1))])]),t("button",{class:"confirm-button",onClick:y},"확인")]))}},z=g(D,[["__scopeId","data-v-07935c53"]]);export{z as default};
