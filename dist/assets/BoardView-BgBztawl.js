import{_ as h,a as u,o as p,d as t,F as b,k as f,q as y,t as l,i as k,m as v,l as C,x as I,j as S,e as g,P as $,y as w,z as B}from"./index-BaYYEV3U.js";const P={class:"table"},x={class:"table-group-divider my-table"},T=["onClick"],q={scope:"row"},L={id:"boardTitle"},M={__name:"BoardTable",props:{boards:{type:Array}},emits:["item-click"],setup(_,{emit:i}){const r=n=>{const e=new Date(n),o=e.getFullYear(),d=String(e.getMonth()+1).padStart(2,"0"),m=String(e.getDate()).padStart(2,"0"),s=String(e.getHours()).padStart(2,"0"),a=String(e.getMinutes()).padStart(2,"0");return`${o}-${d}-${m} ${s}:${a}`},c=i;return(n,e)=>(p(),u("table",P,[e[0]||(e[0]=t("thead",null,[t("tr",null,[t("th",{scope:"col"},"번호"),t("th",{scope:"col"},"제목"),t("th",{scope:"col"},"작성자"),t("th",{scope:"col"},"등록일")])],-1)),t("tbody",x,[(p(!0),u(b,null,f(_.boards,o=>(p(),u("tr",{key:o.id,onClick:y(d=>c("item-click",o.id),["stop"]),id:"boardItem"},[t("th",q,l(o.id),1),t("td",L,l(o.title),1),t("td",null,l(o.userName),1),t("td",null,l(r(o.createdAt)),1)],8,T))),128))])]))}},V=h(M,[["__scopeId","data-v-e3a5769e"]]),A={id:"mainArea"},D={__name:"BoardView",setup(_){const i=k([]),r=B(),c=C(),n=v({currentPage:parseInt(c.query.page)||1,totalCount:0,pageLimit:5,listLimit:0}),e=async s=>{try{const a=await w.get(`/board?page=${s-1}&size=10`);i.value=a.data.content,n.totalCount=a.data.totalElements,n.listLimit=10}catch(a){console.error("Error fetching boards:",a)}},o=s=>{r.push({name:"board/id",params:{id:s}})},d=({page:s,totalPages:a})=>{s>=1&&s<=a&&r.push({name:"board",query:{page:s}})},m=()=>{r.push({name:"board/write"})};return I(c,()=>{n.currentPage=parseInt(c.query.page)||1,e(n.currentPage)}),S(function(){e(n.currentPage)}),(s,a)=>(p(),u("main",null,[t("div",A,[t("div",{id:"div1"},[a[0]||(a[0]=t("h2",{id:"boardTitle"},"자유 게시판",-1)),t("button",{type:"button",class:"btn btn-success",onClick:m},"등록하기")]),g(V,{boards:i.value,onItemClick:o},null,8,["boards"]),g($,{pageInfo:n,onChangePage:d},null,8,["pageInfo"])])]))}},F=h(D,[["__scopeId","data-v-a2486cf3"]]);export{F as default};
